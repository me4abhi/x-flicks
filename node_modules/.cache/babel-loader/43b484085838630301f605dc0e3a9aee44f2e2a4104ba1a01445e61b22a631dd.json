{"ast":null,"code":"var _jsxFileName = \"/home/me4abhi/Documents/learn.dev/React-JS/x-flix/frontend/src/context/FilterVideosContext.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilterVideosContext = /*#__PURE__*/createContext();\nconst FilterVideosProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [selectedGenres, setSelectedGenres] = useState([]);\n  const [selectedRating, setSelectedRating] = useState(\"\");\n  const [searchParams, setSearchParams] = useState(\"\");\n  useEffect(() => {\n    const constructFilterEndpoint = () => {\n      let genreEndpoint = \"\";\n      let ratingEndpoint = \"\";\n      let searchEndpoint = \"\";\n      let finalEndpointArray = [];\n      let finalEndpointString = \"\";\n      if (searchInput.length > 0) {\n        searchEndpoint = \"title=\" + searchInput;\n        finalEndpointArray.push(searchEndpoint);\n      }\n      if (selectedGenres.length > 0) {\n        genreEndpoint = \"genres=\" + selectedGenres.join(\",\");\n        finalEndpointArray.push(genreEndpoint);\n      }\n      if (selectedRating.length > 0) {\n        const ratingEncoded = selectedRating.replace(\"+\", \"%2B\");\n        ratingEndpoint = \"contentRating=\" + ratingEncoded;\n        finalEndpointArray.push(ratingEndpoint);\n      }\n      if (finalEndpointArray.length > 0) {\n        finalEndpointString = finalEndpointArray.join(\"&\");\n      }\n      setSearchParams(finalEndpointString);\n    };\n    constructFilterEndpoint();\n  }, [searchInput, selectedGenres, selectedRating]);\n  const handleInput = e => {\n    console.log(e.target.value);\n    setSearchInput(e.target.value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n  };\n  const multiSelectGenre = currentGenre => {\n    if (selectedGenres.includes(currentGenre)) {\n      setSelectedGenres(selectedGenres.filter(genre => genre !== currentGenre));\n    } else {\n      setSelectedGenres([...selectedGenres, currentGenre]);\n    }\n  };\n  const uniSelectRating = currentRating => {\n    if (selectedRating === currentRating) {\n      setSelectedRating(\"\");\n    } else {\n      setSelectedRating(currentRating);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(FilterVideosContext.Provider, {\n    value: {\n      searchParams,\n      selectedGenres,\n      multiSelectGenre,\n      selectedRating,\n      uniSelectRating,\n      searchInput,\n      handleInput,\n      handleSubmit\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(FilterVideosProvider, \"hkrtwi4YbiGQzaFRVU9xoUYj0B4=\");\n_c = FilterVideosProvider;\nexport { FilterVideosContext, FilterVideosProvider };\nvar _c;\n$RefreshReg$(_c, \"FilterVideosProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","FilterVideosContext","FilterVideosProvider","_ref","_s","children","searchInput","setSearchInput","selectedGenres","setSelectedGenres","selectedRating","setSelectedRating","searchParams","setSearchParams","constructFilterEndpoint","genreEndpoint","ratingEndpoint","searchEndpoint","finalEndpointArray","finalEndpointString","length","push","join","ratingEncoded","replace","handleInput","e","console","log","target","value","handleSubmit","preventDefault","multiSelectGenre","currentGenre","includes","filter","genre","uniSelectRating","currentRating","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/me4abhi/Documents/learn.dev/React-JS/x-flix/frontend/src/context/FilterVideosContext.jsx"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\n\nconst FilterVideosContext = createContext();\n\nconst FilterVideosProvider = ({ children }) => {\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [selectedGenres, setSelectedGenres] = useState([]);\n  const [selectedRating, setSelectedRating] = useState(\"\");\n  const [searchParams, setSearchParams] = useState(\"\");\n\n  useEffect(() => {\n    const constructFilterEndpoint = () => {\n      let genreEndpoint = \"\";\n      let ratingEndpoint = \"\";\n      let searchEndpoint = \"\";\n      let finalEndpointArray = [];\n      let finalEndpointString = \"\";\n\n      if (searchInput.length > 0) {\n        searchEndpoint = \"title=\" + searchInput;\n        finalEndpointArray.push(searchEndpoint);\n      }\n      if (selectedGenres.length > 0) {\n        genreEndpoint = \"genres=\" + selectedGenres.join(\",\");\n        finalEndpointArray.push(genreEndpoint);\n      }\n      if (selectedRating.length > 0) {\n        const ratingEncoded = selectedRating.replace(\"+\", \"%2B\");\n        ratingEndpoint = \"contentRating=\" + ratingEncoded;\n        finalEndpointArray.push(ratingEndpoint);\n      }\n\n      if (finalEndpointArray.length > 0) {\n        finalEndpointString = finalEndpointArray.join(\"&\");\n      }\n      setSearchParams(finalEndpointString);\n    };\n    constructFilterEndpoint();\n  }, [searchInput, selectedGenres, selectedRating]);\n\n  const handleInput = (e) => {\n    console.log(e.target.value)\n    setSearchInput(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n  };\n\n  const multiSelectGenre = (currentGenre) => {\n    if (selectedGenres.includes(currentGenre)) {\n      setSelectedGenres(\n        selectedGenres.filter((genre) => genre !== currentGenre)\n      );\n    } else {\n      setSelectedGenres([...selectedGenres, currentGenre]);\n    }\n  };\n\n  const uniSelectRating = (currentRating) => {\n    if (selectedRating === currentRating) {\n      setSelectedRating(\"\");\n    } else {\n      setSelectedRating(currentRating);\n    }\n  };\n\n  return (\n    <FilterVideosContext.Provider\n      value={{\n        searchParams,\n        selectedGenres,\n        multiSelectGenre,\n        selectedRating,\n        uniSelectRating,\n        searchInput,\n        handleInput,\n        handleSubmit,\n      }}\n    >\n      {children}\n    </FilterVideosContext.Provider>\n  );\n};\n\nexport { FilterVideosContext, FilterVideosProvider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}